{"version":3,"file":"word.js","sources":["pages/word/word.vue","D:/SofterWare/HBuilderX.3.98.2023112510/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvd29yZC93b3JkLnZ1ZQ"],"sourcesContent":["<!--\n * @Author: dongyuanwai yuanwaidong@gmail.com\n * @Date: 2025-02-16 22:28:58\n * @LastEditors: dongyuanwai yuanwaidong@gmail.com\n * @LastEditTime: 2025-02-18 22:32:11\n * @FilePath: \\words-flash-uniapp\\pages\\word\\word.vue\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n-->\n<template>\n  <view \n    class=\"word-learning\"\n    @touchstart=\"handleTouchStart\"\n    @touchend=\"handleTouchEnd\"\n  >\n    <word-card v-if=\"currentWord\" />\n    \n    <!-- 添加导航按钮 -->\n    <view class=\"navigation-buttons\">\n      <button \n        class=\"nav-btn\"\n        @tap=\"store.previousWord\"\n        :disabled=\"currentIndex === 0\"\n      >上一个</button>\n      \n      <button \n        class=\"nav-btn\"\n        @tap=\"store.nextWord\"\n        :disabled=\"currentIndex === totalWords - 1\"\n      >下一个</button>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { onMounted, computed, ref } from 'vue'\nimport WordCard from '@/components/WordCard.vue'\nimport { useWordStore } from '@/store/word'\n\nconst store = useWordStore()\nconst currentWord = computed(() => store.currentWord)\nconst currentIndex = computed(() => store.currentIndex)\nconst totalWords = computed(() => store.totalWords)\n\n// 触摸相关状态\nconst touchStartX = ref(0)\nconst touchEndX = ref(0)\nconst minSwipeDistance = 50 // 最小滑动距离\n\n// 处理触摸开始\nconst handleTouchStart = (event) => {\n  touchStartX.value = event.touches[0].clientX\n}\n\n// 处理触摸结束\nconst handleTouchEnd = (event) => {\n  touchEndX.value = event.changedTouches[0].clientX\n  const swipeDistance = touchEndX.value - touchStartX.value\n\n  // 判断滑动方向和距离\n  if (Math.abs(swipeDistance) >= minSwipeDistance) {\n    if (swipeDistance > 0 && currentIndex.value > 0) {\n      // 向右滑动，显示上一个\n      store.previousWord()\n    } else if (swipeDistance < 0 && currentIndex.value < totalWords.value - 1) {\n      // 向左滑动，显示下一个\n      store.nextWord()\n    }\n  }\n}\n\n// 加载单词列表\nonMounted(() => {\n  store.loadWordsFromPublic()\n})\n</script>\n\n<style>\n.word-learning {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #f5f5f5;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  touch-action: pan-x; /* 优化触摸体验 */\n}\n\n.navigation-buttons {\n  margin-top: 40rpx;\n  display: flex;\n  gap: 20rpx;\n}\n\n.nav-btn {\n  font-size: 28rpx;\n  padding: 16rpx 32rpx;\n  background-color: #f0f0f0;\n  border: none;\n  border-radius: 8rpx;\n  color: #333;\n}\n\n.nav-btn:disabled {\n  opacity: 0.5;\n  background-color: #ccc;\n}\n\n.nav-btn:active:not(:disabled) {\n  background-color: #e0e0e0;\n}\n</style>","import MiniProgramPage from 'E:/2025code/words-flash-uniapp/words-flash-uniapp/pages/word/word.vue'\nwx.createPage(MiniProgramPage)"],"names":["useWordStore","computed","ref","onMounted","MiniProgramPage"],"mappings":";;;;;;AAmCA,MAAM,WAAW,MAAW;AAW5B,MAAM,mBAAmB;;;;AARzB,UAAM,QAAQA,WAAAA,aAAc;AAC5B,UAAM,cAAcC,cAAQ,SAAC,MAAM,MAAM,WAAW;AACpD,UAAM,eAAeA,cAAQ,SAAC,MAAM,MAAM,YAAY;AACtD,UAAM,aAAaA,cAAQ,SAAC,MAAM,MAAM,UAAU;AAGlD,UAAM,cAAcC,cAAG,IAAC,CAAC;AACzB,UAAM,YAAYA,cAAG,IAAC,CAAC;AAIvB,UAAM,mBAAmB,CAAC,UAAU;AAClC,kBAAY,QAAQ,MAAM,QAAQ,CAAC,EAAE;AAAA,IACvC;AAGA,UAAM,iBAAiB,CAAC,UAAU;AAChC,gBAAU,QAAQ,MAAM,eAAe,CAAC,EAAE;AAC1C,YAAM,gBAAgB,UAAU,QAAQ,YAAY;AAGpD,UAAI,KAAK,IAAI,aAAa,KAAK,kBAAkB;AAC/C,YAAI,gBAAgB,KAAK,aAAa,QAAQ,GAAG;AAE/C,gBAAM,aAAc;AAAA,QAC1B,WAAe,gBAAgB,KAAK,aAAa,QAAQ,WAAW,QAAQ,GAAG;AAEzE,gBAAM,SAAU;AAAA,QACjB;AAAA,MACF;AAAA,IACH;AAGAC,kBAAAA,UAAU,MAAM;AACd,YAAM,oBAAqB;AAAA,IAC7B,CAAC;;;;;;;;;;;;;;;ACxED,GAAG,WAAWC,SAAe;"}